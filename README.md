# 지하철 노선도

## 요구사항

### 구조
* 지하철 역
  * id
  * name
* 지하철 구간
  * id
  * 상행 역 id
  * 하행 역 id
  * 노선 id
  * distance
* 지하철 노선
  * id
  * name
  * color

### 구간 등록 기능
* 지하철 노선에 구간을 등록할 수 있다.
* ~~새로운 구간의 상행역은 노선에 등록되어 있는 하행 종점역이어야 한다.~~
* 구간을 생성하는 경우는 다음과 같다.
  1. 상행 종점역을 추가하는 경우
  2. 하행 종점역을 추가하는 경우
  3. 기준역 상행을 추가하는 경우
  4. 기준역 하행을 추가하는 경우
* ~~새로운 구간의 하행역은 노선에 등록되어 있지 않아야 한다.~~
* 위 조건에 부합하지 않는 경우에는 에러 처리한다. 400?
  * ~~새로운 구간의 상행역이 하행 종점역과 다를 경우~~
  * ~~새로운 구간의 하행역이 노선에 등록되어 있을 경우~~
  * 새로운 구간의 역들이 노선에 모두 존재할 경우
  * 새로운 구간의 역들이 노선에 모두 존재하지 않을 경우
  * 새로운 구간의 상행역과 하행역이 같을 경우
  * 새로운 구간의 길이가 기존 구간의 길이보다 길거나 같은 경우

### 구간 제거 기능
* 지하철 노선에서 구간을 제거할 수 있다.
* ~~하행 종점역만 제거할 수 있다.~~
* 어느 역이든 제거할 수 있다.
* 역을 제거하면 제거된 역의 양쪽 역으로 구간을 생성한다.
* 구간이 1개인 경우 ~~IllegalStateException~~ 커스텀 예외인 SectionException을 던진다.
* 존재하지 않는 역일 경우 ~~IllegalArgumentException~~ 커스텀 예외인 StationException을 던진다.
* 위 조건에 부합하지 않는 경우에는 에러 처리한다.

### 구간 조회 기능
* 출발역과 도착역 사이의 최단 경로를 조회할 수 있다.
* 출발역과 도착역이 같은 경우 PathException 예외를 던진다.
* 출발역과 도착역이 연결되어 있지 않은 경우 PathException 예외를 던진다.
* 출발역이나 도착역이 존재하지 않을 경우 StationException 예외를 던진다.

## 오류 코드
    NAM001 : 지하철 역명, 노선명 등 이름 정보가 잘못된 경우

    LIN001 : 특정 노선이 존재하지 않는 경우

    SEC001 : 어느 구간도 존재하지 않는 경우
    SEC002 : 삽입할 구간의 상행역, 하행역이 모두 존재하거나 존재하지 않는 경우
    SEC003 : 삽입할 구간의 상행역과 하행역이 같은 경우
    SEC004 : 삭제 시 하나의 구간만 있는 경우
    SEC005 : 특정 구간이 존재하지 않는 경우
    SEC006 : 출발역을 찾지 못한 경우 (500)
    SEC007 : 삭제할 구간을 찾지 못한 경우 (500)
    
    STA001 : 지하철 역이 존재하지 않는 경우
    STA002 : 특정 역이 존재하지 않는 경우
    STA003 : 같은 지하철 역이 여러 개 있는 경우 (500)
    STA004 : 상행 종점역을 찾지 못한 경우 (500)

    PAT001 : 경로가 존재하지 않는 경우
    
    DST001 : 새로운 구간의 거리가 기존 구간의 거리보다 길 경우
    DST002 : 거리가 양의 정수가 아닐 경우

    DB_EXISTS : 데이터베이스에 이미 존재하는 데이터인 경우
    DB_UNKNOWN : 데이터베이스에서 알 수 없는 오류가 발생한 경우
    UNKNOWN : 알 수 없는 오류가 발생한 경우
